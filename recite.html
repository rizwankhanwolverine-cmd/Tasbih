<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recite - Al-Fatihah</title>
<style>
:root { --gold: #C2B280; --bg: #0B0B0F; --card: rgba(194, 178, 128, 0.05); --text: #F0F0F0; }

body {
    margin:0;
    font-family: 'Georgia', serif;
    background: var(--bg);
    color: var(--text);
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
}

.recite-header {
    text-align: center;
    margin-bottom: 20px;
}

.surah-title {
    font-size: 2rem;
    color: var(--gold);
    letter-spacing: 3px;
    margin: 0;
}

.surah-subtitle {
    font-size: 0.8rem;
    opacity: 0.6;
    margin-top: 5px;
    letter-spacing: 1px;
}

.mode-selector {
    display: flex;
    border-radius: 25px;
    overflow: hidden;
    border: 1px solid rgba(194,178,128,0.2);
    margin: 20px 0;
}

.mode-btn {
    flex: 1;
    padding: 10px 15px;
    font-size: 0.8rem;
    cursor: pointer;
    border: none;
    background: none;
    color: var(--text);
    opacity: 0.5;
    transition: 0.3s;
    font-weight: bold;
}

.mode-btn.active {
    background: var(--gold);
    color: var(--bg);
    opacity: 1;
}

.verse-container {
    width: 100%;
    max-width: 450px;
    display: flex;
    flex-direction: column;
    gap: 15px;
    overflow-y: auto;
}

.verse-card {
    background: var(--card);
    border-radius: 20px;
    padding: 20px;
    transition: 0.3s;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}

.verse-card.active {
    border: 1px solid var(--gold);
    transform: scale(1.03);
    box-shadow: 0 4px 16px rgba(194,178,128,0.3);
}

.arabic-text {
    font-size: 1.8rem;
    text-align: right;
    line-height: 2.2;
}

.translation {
    font-size: 0.95rem;
    opacity: 0.7;
    font-style: italic;
    margin-top: 8px;
}

.hifz-active .verse-card:not(.active) {
    opacity: 0.25;
    transform: scale(0.95);
}

.audio-bar {
    position: fixed;
    bottom: 20px;
    background: rgba(8,8,10,0.9);
    backdrop-filter: blur(8px);
    padding: 12px 25px;
    border-radius: 50px;
    display: flex;
    align-items: center;
    gap: 15px;
    border: 1px solid var(--gold);
    box-shadow: 0 6px 18px rgba(0,0,0,0.5);
}

.play-btn {
    background: var(--gold);
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
}
</style>
</head>
<body>
<div class="recite-header">
    <h1 class="surah-title">Al-Fatihah</h1>
    <div class="surah-subtitle">THE OPENING • 7 VERSES</div>
</div>

<div class="mode-selector">
    <button class="mode-btn active" onclick="setMode('read', this)">READING</button>
    <button class="mode-btn" onclick="setMode('hifz', this)">HIFZ FOCUS</button>
</div>

<div class="verse-container" id="verses">
    <div class="verse-card active" id="v1" onclick="focusVerse(1)">
        <div class="arabic-text">بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ</div>
        <div class="translation">In the name of Allah, the Entirely Merciful, the Especially Merciful.</div>
    </div>
    <div class="verse-card" id="v2" onclick="focusVerse(2)">
        <div class="arabic-text">الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ</div>
        <div class="translation">All praise is [due] to Allah, Lord of the worlds.</div>
    </div>
    <div class="verse-card" id="v3" onclick="focusVerse(3)">
        <div class="arabic-text">الرَّحْمَٰنِ الرَّحِيمِ</div>
        <div class="translation">The Entirely Merciful, the Especially Merciful.</div>
    </div>
</div>

<div class="audio-bar">
    <button class="play-btn" onclick="togglePlay()">
        <svg id="play-icon" width="20" height="20" viewBox="0 0 24 24" fill="black">
            <path d="M8 5v14l11-7z"/>
        </svg>
    </button>
    <div style="font-size: 0.75rem; letter-spacing: 1px; font-weight: bold;">MISHARY RASHID ALAFASY</div>
</div>

<script>
let isPlaying = false;
let currentVerse = 1;

function setMode(mode, btn) {
    document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    if(mode === 'hifz') document.body.classList.add('hifz-active');
    else document.body.classList.remove('hifz-active');
}

function focusVerse(num) {
    document.querySelectorAll('.verse-card').forEach(v => v.classList.remove('active'));
    document.getElementById('v'+num).classList.add('active');
    currentVerse = num;
    window.parent.postMessage('play_beed', '*');
}

function togglePlay() {
    isPlaying = !isPlaying;
    const icon = document.getElementById('play-icon');
    if(isPlaying) icon.innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>';
    else icon.innerHTML = '<path d="M8 5v14l11-7z"/>';
}
</script>
</body>
</html>
